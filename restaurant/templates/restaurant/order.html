{% extends 'restaurant/base.html' %}

{% block content %}
<!-- fill this section with page specific details -->

<div>
   <h1>Place an Order</h1>

   <form method = "POST" action = "{% url 'confirmation' %}">
       <!-- The CSRF token is a security measure to 
        verify that the web app only accepts a form that 
        was authentically generated by this app -->
       {% csrf_token %}

       <h3>Select your items</h3>

       <label>
        <input type="checkbox" name="items" value="Frayed Chicken"> Frayed Chicken - $12
        </label><br>

        <label>
        <input type="checkbox" name="items" id="famous-fray-burger" value="Famous Fray Burger"> Famous Fray Burger - $9
        </label>
        <label style="margin-left: 20px;">
        <!-- The extra option, initially disabled, will be enabled only when the burger is selected -->
            <input type="checkbox" name="extras" id="double-burger" value="Double Beef Burger" disabled> Make it double! + $2
        </label><br>

        <label>
        <input type="checkbox" name="items" value="Veggie Salad"> Veggie Salad - $5
        </label><br>
        <label>
            <input type="checkbox" name="items" value="Fray's hotdog"> Fray's hotdog - $6
            </label><br>

        <h3>Daily special</h3>

        <label>
            <input type="checkbox" name="items" value="{{ daily_special.name }}"> {{ daily_special.name }} - ${{ daily_special.price }}
            </label><br>

        <h3>Special Instructions</h3>
    <textarea name="special_instructions" rows="4" cols="50" placeholder="Any special instructions?"></textarea><br>

    <h3>Customer Information</h3>
    <label for="name">Name:</label>
    <input type="text" name="name" id="name" ><br>
    
    <label for="phone">Phone:</label>
    <input type="tel" name="phone" id="phone" ><br>
    
    <label for="email">Email:</label>
    <input type="email" name="email" id="email"><br>
    
    <button type="submit">Submit Order</button>

    <script>
        // Get the checkbox elements
        const burgerCheckbox = document.getElementById('famous-fray-burger');
        const doubleBurgerCheckbox = document.getElementById('double-burger');
    
        // Add event listener to the burger checkbox
        burgerCheckbox.addEventListener('change', function() {
            // Enable or disable the "Make it double!" checkbox based on burger selection
            if (burgerCheckbox.checked) {
                doubleBurgerCheckbox.disabled = false;  // Enable the extra option
            } else {
                doubleBurgerCheckbox.disabled = true;   // Disable and uncheck the extra option if burger is not selected
                doubleBurgerCheckbox.checked = false;   // Uncheck the extra option if it was checked
            }
        });
    </script>

   </form>
</div>

{% endblock %}