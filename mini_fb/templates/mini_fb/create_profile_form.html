{% extends 'mini_fb/base.html' %}

{% block title %}Create Profile{% endblock %}

{% block content %}
    <h2>Create Profile</h2>

    <!-- Display errors for the user form if any -->
    {% if user_form.errors %}
        <ul class="errorlist">
            {% for field, errors in user_form.errors.items %}
                <li>{{ field }}: {{ errors|join:", " }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <!-- Display errors for the profile form if any -->
    {% if form.errors %}
        <ul class="errorlist">
            {% for field, errors in form.errors.items %}
                <li>{{ field }}: {{ errors|join:", " }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <!-- Combined form for both UserCreationForm and CreateProfileForm -->
    <form method="post">
        {% csrf_token %}

        <!-- UserCreationForm fields -->
        <h3>User Account Information</h3>
        {{ user_form.as_p }}

        <!-- CreateProfileForm fields -->
        <h3>Profile Information</h3>
        {{ form.as_p }}

        <button type="submit" class="btn btn-primary">Create Profile</button>
    </form>
{% endblock content %}
